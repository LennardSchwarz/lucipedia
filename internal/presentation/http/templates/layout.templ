package templates

templ BaseLayout(title string) {
    <!DOCTYPE html>
    <html lang="en" class="h-full bg-slate-50">
        <head>
            <meta charset="utf-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1" />
            <title>{ title }</title>
            // typography plugin is needed for prose classes (h1, h2, references) used in llm wiki pages
            <script src="https://cdn.tailwindcss.com?plugins=typography&version=3.4.17"></script>
            <link rel="icon" href="/favicon.ico" type="image/x-icon" />
        </head>
        <body class="h-full font-sans text-slate-800">
            <div class="flex min-h-screen flex-col bg-white">
                { children... }
            </div>
        </body>
    </html>
}

templ AppLayout(title string, query string) {
    @BaseLayout(title) {
        @Header(query, PageCountFromContext(ctx))
        <div class="mx-auto flex w-full max-w-5xl flex-1 flex-col px-6 py-8 sm:px-8">
            <main class="flex-1">
                { children... }
            </main>
        </div>
        @Footer()
    }
}

templ Footer() {
    <footer class="mt-auto border-t border-slate-200 bg-slate-50/80 py-4 text-center text-xs text-slate-500">
        <p class="px-2">Undiscovered articles are generated on demand. { PageCountFromContext(ctx) } articles discovered so far.</p>
        <p class="pt-2">Check it out on <a href="https://github.com/LennardSchwarz/lucipedia" target="_blank" class="underline">GitHub</a>.</p>
    </footer>
}
